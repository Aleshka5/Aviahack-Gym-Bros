# Инструкция по сборке своего Docker образа

Основные шаги:

1. Написать ```Dockerfile```
2. Выложить докер образ на docker Hub
3. Создать zip файл с кодом 
4. Передать контейнер на кластер Нио-101 (Для оргов: прописать ```singularity exec docker://ubuntu:latest echo "Hello Dinosaur!"``` ( заменить на свой докер, можно пробросить GPU добавив ```--nv```))
5. Зайти в папку с кодом и написать там ```python train.py path``` (путь до данных)

При проблемах написать Илье Рожкову ```+7 964 523 79 45``` (tg: `https://t.me/IliaRozhkov`)

## Расширенная версия 

1. Написать ```Dockerfile```
Создайте файл ```Dockerfile``` со следующим содержимым:
```
# Выберите базовый образ
FROM python:3.8
# Установите рабочий каталог в контейнере
WORKDIR /code
# Копируйте файлы в контейнер
COPY . /code
# Установите необходимые зависимости
RUN pip install -r requirements.txt
# Укажите команду для запуска приложения
CMD ["python", "train.py"]
```

Убедитесь, что у вас есть файл ```requirements.txt``` с необходимыми библиотеками.

2. Собрать и выложить Docker образ на Docker Hub
```bash
# Соберите образ Docker
docker build -t ваш_логин/ваш_образ .
# Войдите в Docker Hub
docker login
# Загрузите образ на Docker Hub
docker push ваш_логин/ваш_образ
```

3. Создать ZIP-файл с Кодом
```bash
zip -r code.zip /путь/до/кода
```
4. Запуск на Кластере (для оргов)
На кластере Нио-101 используйте команду ```singularity```, чтобы запустить ваш Docker контейнер:
```bash
singularity exec --nv docker://ваш_логин/ваш_образ echo "Hello Dinosaur!"
```
Опция ```--nv``` используется для проброса GPU в контейнер.

5. Запуск Python Скрипта
Перейдите в каталог с вашим кодом и запустите скрипт ```train.py```:
```bash
cd /путь/к/папке/с/кодом
python train.py /путь/до/данных
```
Убедитесь, что у вас настроен доступ к данным и кластеру и что все пути указаны корректно.

